# Exploitation DNS

## Objectif
Exploiter des faiblesses de configuration DNS (zone transfer, enregistrements sensibles) pour obtenir des informations sur l’infrastructure ou rebondir sur d’autres attaques.

---

## Explications vulgarisées
- DNS est le service qui traduit les noms de domaine en adresses IP. S’il est mal configuré, il peut révéler toute la cartographie d’un réseau (zone transfer, enregistrements internes, etc.).

---

## Commandes et étapes essentielles

### 1. Test de transfert de zone (zone transfer)
```bash
dig AXFR target.com @ns1.target.com
```
- **AXFR** : Demande un transfert complet de la zone DNS (rarement autorisé, mais jackpot si ça marche).
- **@ns1.target.com** : Spécifie le serveur DNS à interroger.
- **Exemple de sortie** :
```
; Transfer failed.
; ou
mail.target.com.   3600 IN A 192.168.1.20
vpn.target.com.    3600 IN A 192.168.1.30
```
- **À surveiller** : Liste complète des machines et sous-domaines si le transfert réussit.

### 2. Recherche d’enregistrements sensibles
```bash
dig target.com ANY
```
- **ANY** : Demande tous les types d’enregistrements connus (A, MX, TXT, etc.).
- **À surveiller** : IP publiques, serveurs mail, enregistrements TXT (parfois des clés ou infos internes).

### 3. Enumération automatisée avec dnsenum
```bash
dnsenum target.com
```
- **dnsenum** : Outil automatisé pour trouver des sous-domaines, serveurs de messagerie, etc.

---

## Conseils pour débutants
- Toujours commencer par les requêtes simples (dig, nslookup) avant d’automatiser.
- Tester le transfert de zone sur tous les serveurs DNS trouvés.
- Utiliser des wordlists pour maximiser la découverte de sous-domaines.
- Lire la documentation de chaque outil pour découvrir des options avancées.

---

## Pour aller plus loin
- [PayloadsAllTheThings - DNS Exploitation](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Methodology%20and%20Resources/DNS%20Methodology)
- [SecLists - DNS wordlists](https://github.com/danielmiessler/SecLists/tree/master/Discovery/DNS)
- [dnsenum](https://github.com/fwaeytens/dnsenum) 