# Exploitation SNMP

## Objectif
Exploiter des faiblesses de configuration SNMP (community string par défaut, version non sécurisée) pour obtenir des informations sensibles ou rebondir sur d'autres systèmes.

---

## Explications vulgarisées
- SNMP est un protocole de gestion réseau. S'il est mal configuré (community string "public", version v1/v2c), il peut révéler des infos critiques (utilisateurs, mots de passe, config réseau).

---

## Commandes et étapes essentielles

### 1. Lecture d'informations système
```bash
snmpwalk -v1 -c public target.com
```
- **snmpwalk** : Outil pour interroger un agent SNMP.
- **-v1** : Version SNMP (tester aussi -v2c).
- **-c public** : Community string par défaut.
- **Exemple de sortie** :
```
SNMPv2-MIB::sysDescr.0 = STRING: Linux server 4.15.0-20-generic
SNMPv2-MIB::sysContact.0 = STRING: admin@target.com
```
- **À surveiller** : Infos système, utilisateurs, mots de passe en clair (!).

### 2. Extraction de comptes utilisateurs (Windows)
```bash
snmpwalk -v2c -c public target.com 1.3.6.1.4.1.77.1.2.25
```
- **OID 1.3.6.1.4.1.77.1.2.25** : Permet de lister les comptes utilisateurs sur certains systèmes Windows.

### 3. Enumération automatisée avec Nmap
```bash
nmap -sU -p 161 --script snmp-brute,snmp-interfaces,snmp-processes target.com
```
- **snmp-brute** : Teste des community strings courantes.
- **snmp-interfaces** : Liste les interfaces réseau.
- **snmp-processes** : Liste les processus en cours.

---

## Conseils pour débutants
- Toujours tester la chaîne "public" et "private" avant d'essayer d'autres valeurs.
- Attention à la version SNMP (v1, v2c, v3 : v3 est sécurisé, les autres non).
- Ne pas négliger les infos "banales" : elles peuvent révéler des failles.
- Lire la documentation de chaque outil pour découvrir des options avancées.

---

## Pour aller plus loin
- [PayloadsAllTheThings - SNMP Exploitation](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Methodology%20and%20Resources/SNMP%20Methodology)
- [SNMPwalk](https://linux.die.net/man/1/snmpwalk)
- [Nmap SNMP NSE Scripts](https://nmap.org/nsedoc/categories/snmp.html) 