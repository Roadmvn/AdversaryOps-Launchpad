# Exploitation LDAP

## Objectif
Exploiter des faiblesses de configuration LDAP (annuaire d'entreprise) pour obtenir des informations sensibles ou rebondir sur d'autres systèmes.

---

## Explications vulgarisées
- LDAP est un annuaire utilisé pour gérer les utilisateurs, groupes, et ressources d'un réseau. S'il est mal configuré, il peut révéler des infos critiques (comptes, mots de passe, structure AD, etc.).

---

## Commandes et étapes essentielles

### 1. Enumération anonyme
```bash
ldapsearch -x -h target.com -b "dc=target,dc=com"
```
- **ldapsearch** : Outil pour interroger un annuaire LDAP.
- **-x** : Mode simple (anonyme).
- **-b** : Base de recherche (à adapter selon le domaine).
- **Exemple de sortie** :
```
dn: cn=admin,dc=target,dc=com
userPassword:: e1NTSEF9bG9sCg==
```
- **À surveiller** : Comptes admin, mots de passe hashés ou en clair.

### 2. Recherche de comptes et groupes
```bash
ldapsearch -x -h target.com -b "dc=target,dc=com" "(objectClass=person)"
```
- **Astuce débutant** : Chercher les groupes "Domain Admins", "Administrators", etc.

### 3. Exploitation automatisée avec Nmap
```bash
nmap -p 389 --script ldap-rootdse,ldap-search target.com
```
- **ldap-rootdse** : Récupère les infos de base de l'annuaire.
- **ldap-search** : Enumère les utilisateurs, groupes, etc.

---

## Conseils pour débutants
- Toujours commencer par une recherche anonyme avant d'essayer des credentials.
- Adapter la base de recherche ("-b") selon le domaine cible.
- Lire la documentation de chaque outil pour découvrir des options avancées.

---

## Pour aller plus loin
- [PayloadsAllTheThings - LDAP](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Methodology%20and%20Resources/LDAP%20Methodology)
- [Nmap LDAP NSE Scripts](https://nmap.org/nsedoc/categories/ldap.html) 