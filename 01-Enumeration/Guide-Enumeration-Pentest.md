# 01-Enumeration

## ğŸ“ Vue d'ensemble

L'Ã©numÃ©ration est la phase cruciale qui suit la reconnaissance. C'est ici qu'on **interroge en profondeur** les services dÃ©couverts pour identifier les **vulnÃ©rabilitÃ©s exploitables**. Think of it comme "fouiller dans les tiroirs" aprÃ¨s avoir trouvÃ© les portes ouvertes.

> **ğŸ’¡ Pour les dÃ©butants** : Si la reconnaissance nous dit "il y a un serveur web sur le port 80", l'Ã©numÃ©ration va nous dire "c'est Apache 2.4.7 avec PHP 5.6, il y a un dossier /admin/ et un fichier config.php accessible".

## âš ï¸ **IMPORTANT - Ã€ propos des exemples**

> **ğŸ¯ TOUS les noms de domaines, IPs, usernames dans ce guide sont des EXEMPLES FICTIFS !**

### ğŸ“ Exemples vs RÃ©alitÃ© :

**Dans le guide (EXEMPLE FICTIF) :**
```
target.com
192.168.1.100
admin, user, guest
/admin/, /backup/
```

**Dans la vraie vie, vous devez adapter :**
```
votre-vraie-cible.com
10.0.2.15
marie.martin, j.dupont
/wp-admin/, /phpmyadmin/
```

### ğŸ”„ Comment adapter les exemples :
1. **Remplacez** `target.com` par votre vraie cible
2. **Remplacez** `attacker_ip` par votre vraie IP d'attaquant
3. **Remplacez** `192.168.1.100` par la vraie IP cible
4. **Remplacez** les noms d'utilisateurs par ceux trouvÃ©s
5. **Remplacez** les rÃ©pertoires par ceux dÃ©couverts

## ğŸ—‚ï¸ Structure et MÃ©thodes

### Services-RÃ©seau/
Services les plus couramment rencontrÃ©s et leurs techniques d'Ã©numÃ©ration
- **SSH_Enumeration.md** - Ã‰numÃ©ration SSH (port 22)
- **FTP_Enumeration.md** - Ã‰numÃ©ration FTP (port 21)
- **SMB_Enumeration.md** - Ã‰numÃ©ration SMB/NetBIOS (ports 139/445)
- **HTTP_HTTPS_Enumeration.md** - Ã‰numÃ©ration Web (ports 80/443)
- **DNS_Enumeration.md** - Ã‰numÃ©ration DNS (port 53)
- **SNMP_Enumeration.md** - Ã‰numÃ©ration SNMP (port 161)
- **Database_Enumeration.md** - MySQL, PostgreSQL, MSSQL

### SystÃ¨mes/
Ã‰numÃ©ration spÃ©cifique par systÃ¨me d'exploitation
- **Linux_Enumeration.md** - Techniques Linux-specific
- **Windows_Enumeration.md** - Techniques Windows-specific
- **Active_Directory.md** - Ã‰numÃ©ration AD et domaines

### _Tools/
Guides dÃ©taillÃ©s des outils d'Ã©numÃ©ration
- **Nmap_Scripts.md** - Scripts NSE pour Ã©numÃ©ration
- **Enum4linux.md** - Ã‰numÃ©ration Linux/SMB
- **Gobuster_Dirb.md** - Fuzzing de rÃ©pertoires web
- **Nikto.md** - Scanner de vulnÃ©rabilitÃ©s web
- **Metasploit_Aux.md** - Modules auxiliaires Metasploit

## ğŸ¯ MÃ©thodologie d'Ã‰numÃ©ration

### Phase 1 : Ã‰numÃ©ration des Services
```bash
# Scan de services dÃ©taillÃ© (aprÃ¨s nmap initial)
nmap -sC -sV -p 21,22,80,135,139,445 target.com

# Ã‰numÃ©ration avec scripts NSE spÃ©cifiques
nmap --script smb-enum-shares,smb-enum-users target.com
```

### Phase 2 : Ã‰numÃ©ration Web (si port 80/443 ouvert)
```bash
# DÃ©couverte de rÃ©pertoires
gobuster dir -u http://target.com -w /usr/share/wordlists/dirb/common.txt

# Scan de vulnÃ©rabilitÃ©s web
nikto -h http://target.com

# Ã‰numÃ©ration avec scripts personnalisÃ©s
nmap --script http-enum,http-headers target.com -p 80
```

### Phase 3 : Ã‰numÃ©ration SMB (si ports 139/445 ouverts)
```bash
# Ã‰numÃ©ration complÃ¨te SMB/NetBIOS
enum4linux -a target.com

# Listage des partages avec smbclient
smbclient -L //target.com -N

# Avec Metasploit
msfconsole
use auxiliary/scanner/smb/smb_enumshares
set RHOSTS target.com
run
```

## ğŸ” Techniques par Service

### ğŸŒ HTTP/HTTPS (Ports 80/443)
**Objectif** : Trouver pages cachÃ©es, technologies utilisÃ©es, vulnÃ©rabilitÃ©s web

```bash
# 1. Identification du serveur web
curl -I http://target.com
# Recherche : Server: Apache/2.4.7, X-Powered-By: PHP/5.6

# 2. Fuzzing de rÃ©pertoires
gobuster dir -u http://target.com -w /usr/share/seclists/Discovery/Web-Content/common.txt -x php,html,txt

# 3. Scan de vulnÃ©rabilitÃ©s
nikto -h http://target.com -output nikto_results.txt

# 4. Avec Metasploit
msfconsole
use auxiliary/scanner/http/dir_scanner
set RHOSTS target.com
set DICTIONARY /usr/share/metasploit-framework/data/wordlists/directory.txt
run
```

### ğŸ§ SSH (Port 22)
**Objectif** : Ã‰numÃ©rer les utilisateurs, identifier la version SSH

```bash
# 1. Banner grabbing
nc target.com 22
# ou
nmap -sV -p 22 target.com

# 2. Ã‰numÃ©ration des utilisateurs (si vulnÃ©rable)
# Avec Metasploit
use auxiliary/scanner/ssh/ssh_enumusers
set RHOSTS target.com
set USER_FILE /usr/share/seclists/Usernames/top-usernames-shortlist.txt
run

# 3. Test d'authentification par clÃ©
ssh-keyscan target.com
```

### ğŸ“ SMB/NetBIOS (Ports 139/445)  
**Objectif** : Lister partages, utilisateurs, informations systÃ¨me

```bash
# 1. Ã‰numÃ©ration complÃ¨te avec enum4linux
enum4linux -a target.com

# 2. Listage des partages
smbclient -L //target.com -N

# 3. Test d'accÃ¨s aux partages
smbclient //target.com/share_name -N

# 4. Avec Metasploit - Multiple modules
msfconsole
use auxiliary/scanner/smb/smb_version        # Version SMB
use auxiliary/scanner/smb/smb_enumshares     # Partages
use auxiliary/scanner/smb/smb_enumusers      # Utilisateurs
use auxiliary/scanner/smb/smb_lookupsid      # SID lookup
```

## ğŸ› ï¸ Outils Essentiels et Usage

### Nmap Scripts (NSE)
```bash
# Scripts d'Ã©numÃ©ration par service
nmap --script smb-enum-* target.com          # SMB
nmap --script http-enum target.com -p 80     # HTTP
nmap --script ssh-* target.com -p 22         # SSH
nmap --script dns-* target.com -p 53         # DNS

# Script personalisation
ls /usr/share/nmap/scripts/ | grep enum
```

### Gobuster vs Dirb
```bash
# Gobuster (plus rapide)
gobuster dir -u http://target.com -w wordlist.txt -x php,html -t 50

# DirB (plus features built-in)
dirb http://target.com /usr/share/dirb/wordlists/common.txt -X .php,.html
```

### Metasploit pour Ã‰numÃ©ration
```bash
msfconsole
search type:auxiliary scanner
use auxiliary/scanner/[service]/[module]

# Exemples courants :
use auxiliary/scanner/http/dir_scanner
use auxiliary/scanner/smb/smb_enumshares  
use auxiliary/scanner/ssh/ssh_enumusers
use auxiliary/scanner/snmp/snmp_enum
```

## ğŸ“‹ Checklist d'Ã‰numÃ©ration

### âœ… Pour chaque service trouvÃ© :
1. **Version identification** - Quelle version exacte ?
2. **Default credentials** - Login par dÃ©faut testÃ© ?
3. **Anonymous access** - AccÃ¨s anonyme possible ?
4. **Vulnerable version** - Version connue vulnÃ©rable ?
5. **Misconfigurations** - Mauvaises configurations ?

### âœ… Web Applications :
1. **Technologies** - Framework, CMS, langage ?
2. **Hidden directories** - /admin, /backup, /config ?
3. **File extensions** - .php, .asp, .jsp testÃ©s ?
4. **Parameters** - GET/POST parameters Ã©numÃ©rÃ©s ?
5. **Cookies/Headers** - Informations dans headers ?

### âœ… Network Services :
1. **Shares enumerated** - Partages listÃ©s et testÃ©s ?
2. **Users enumerated** - Liste d'utilisateurs obtenue ?
3. **Permissions tested** - Permissions de chaque ressource ?
4. **Service-specific** - Tests spÃ©cifiques au service ?

## ğŸ“ Tips pour DÃ©butants

### ğŸ¤” Comment choisir quoi Ã©numÃ©rer ?
1. **Commencer par les services web** (80/443) - souvent les plus vulnÃ©rables
2. **Puis SMB** (139/445) - riche en informations
3. **SSH** (22) - pour les credentials/keys
4. **Autres services** selon contexte

### ğŸ“ Comment documenter ?
```bash
# CrÃ©er des dossiers par cible
mkdir target_enum
cd target_enum

# Sauvegarder tous les outputs
nmap -sC -sV target.com > nmap_detailed.txt
enum4linux -a target.com > smb_enum.txt  
gobuster dir -u http://target.com -w wordlist.txt > web_dirs.txt

# Screenshots pour le web
firefox http://target.com  # Screenshot manuel
```

### âš¡ Automatisation
```bash
# Script d'Ã©numÃ©ration rapide
#!/bin/bash
TARGET=$1
mkdir ${TARGET}_enum

# Services
nmap -sC -sV $TARGET > ${TARGET}_enum/nmap.txt

# Web si port 80 ouvert
if grep -q "80/tcp.*open" ${TARGET}_enum/nmap.txt; then
    gobuster dir -u http://$TARGET -w /usr/share/dirb/wordlists/common.txt > ${TARGET}_enum/web_dirs.txt
    nikto -h http://$TARGET > ${TARGET}_enum/nikto.txt
fi

# SMB si ports 139/445 ouverts  
if grep -q "445/tcp.*open\|139/tcp.*open" ${TARGET}_enum/nmap.txt; then
    enum4linux -a $TARGET > ${TARGET}_enum/smb.txt
fi
```

## âš ï¸ Bonnes Pratiques

### ğŸš¨ Rate Limiting
- **Threads limitÃ©s** : Pas plus de 10-20 threads simultanÃ©s
- **Delays entre requÃªtes** : Ã‰viter la dÃ©tection IDS/IPS
- **Rotate User-Agents** : Pour les scans web

### ğŸ” Stealth Techniques
- **Slow scans** : Ã‰taler dans le temps
- **Decoy scans** : nmap -D (avec autorisation)
- **Fragmented packets** : nmap -f

---
*Section maintenue par : [Votre nom]*  
*DerniÃ¨re mise Ã  jour : [Date]* 